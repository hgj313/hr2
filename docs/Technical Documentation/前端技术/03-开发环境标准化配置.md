# äººåŠ›èµ„æºè°ƒåº¦ç³»ç»Ÿ - å¼€å‘ç¯å¢ƒæ ‡å‡†åŒ–é…ç½®

## æ–‡æ¡£æ¦‚è¿°

### æ–‡æ¡£ç›®çš„
æœ¬æ–‡æ¡£è§„èŒƒäººåŠ›èµ„æºè°ƒåº¦ç³»ç»Ÿå‰ç«¯å¼€å‘ç¯å¢ƒçš„æ ‡å‡†åŒ–é…ç½®ï¼Œç¡®ä¿å¼€å‘å›¢é˜Ÿç¯å¢ƒä¸€è‡´æ€§ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚

### é€‚ç”¨èŒƒå›´
- å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ
- æ–°å‘˜å·¥å…¥èŒåŸ¹è®­
- å¼€å‘ç¯å¢ƒç»´æŠ¤
- CI/CDæµæ°´çº¿é…ç½®

## åŸºç¡€ç¯å¢ƒè¦æ±‚

### æ“ä½œç³»ç»Ÿè¦æ±‚
- **Windows**ï¼šWindows 10/11 (64ä½)
- **macOS**ï¼šmacOS 10.15+ (CatalinaåŠä»¥ä¸Š)
- **Linux**ï¼šUbuntu 18.04+ / CentOS 7+ / Debian 10+

### å¿…å¤‡è½¯ä»¶æ¸…å•

#### 1. Node.jsç¯å¢ƒ
- **ç‰ˆæœ¬è¦æ±‚**ï¼šNode.js 18.x LTS (æ¨è18.17.0+)
- **åŒ…ç®¡ç†å™¨**ï¼šnpm 9.x+ æˆ– pnpm 8.x+ (æ¨èpnpm)
- **ç‰ˆæœ¬ç®¡ç†**ï¼šnvm (Node Version Manager)

**å®‰è£…æ­¥éª¤**ï¼š
```bash
# å®‰è£…nvm (Linux/macOS)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# Windowsç”¨æˆ·ä½¿ç”¨nvm-windows
# ä¸‹è½½åœ°å€ï¼šhttps://github.com/coreybutler/nvm-windows

# å®‰è£…Node.js
nvm install 18.17.0
nvm use 18.17.0
nvm alias default 18.17.0

# éªŒè¯å®‰è£…
node --version  # åº”æ˜¾ç¤º v18.17.0
npm --version   # åº”æ˜¾ç¤º 9.x.x
```

#### 2. ä»£ç ç¼–è¾‘å™¨
- **æ¨è**ï¼šVisual Studio Code 1.80+
- **å¤‡é€‰**ï¼šWebStorm 2023.1+

**VS Codeå¿…è£…æ’ä»¶**ï¼š
```json
{
  "recommendations": [
    "ms-vscode.vscode-typescript-next",
    "bradlc.vscode-tailwindcss",
    "esbenp.prettier-vscode",
    "dbaeumer.vscode-eslint",
    "ms-vscode.vscode-json",
    "formulahendry.auto-rename-tag",
    "christian-kohler.path-intellisense",
    "ms-vscode.vscode-css-peek",
    "bradlc.vscode-tailwindcss",
    "ms-vscode.vscode-typescript-next"
  ]
}
```

#### 3. ç‰ˆæœ¬æ§åˆ¶
- **Git**ï¼š2.30+
- **Git GUI**ï¼šSourceTree / GitKraken (å¯é€‰)

**Gité…ç½®**ï¼š
```bash
# åŸºç¡€é…ç½®
git config --global user.name "Your Name"
git config --global user.email "your.email@company.com"
git config --global init.defaultBranch main
git config --global core.autocrlf input  # Linux/macOS
git config --global core.autocrlf true   # Windows

# æäº¤æ¨¡æ¿
git config --global commit.template ~/.gitmessage
```

#### 4. æµè§ˆå™¨ç¯å¢ƒ
- **Chrome**ï¼š100+ (ä¸»è¦å¼€å‘æµè§ˆå™¨)
- **Firefox**ï¼š100+ (å…¼å®¹æ€§æµ‹è¯•)
- **Safari**ï¼š15+ (macOSç”¨æˆ·)
- **Edge**ï¼š100+ (Windowsç”¨æˆ·)

**Chromeå¼€å‘è€…å·¥å…·æ’ä»¶**ï¼š
- React Developer Tools
- Vue.js devtools
- Redux DevTools
- Lighthouse

### å¯é€‰å·¥å…·
- **ç»ˆç«¯å¢å¼º**ï¼šOh My Zsh (macOS/Linux) / PowerShell 7 (Windows)
- **APIæµ‹è¯•**ï¼šPostman / Insomnia
- **è®¾è®¡å·¥å…·**ï¼šFigma / Sketch
- **æ•°æ®åº“å·¥å…·**ï¼šDBeaver / pgAdmin

## é¡¹ç›®åˆå§‹åŒ–æµç¨‹

### 1. é¡¹ç›®å…‹éš†
```bash
# å…‹éš†é¡¹ç›®ä»“åº“
git clone https://github.com/company/hr-scheduling-frontend.git
cd hr-scheduling-frontend

# åˆ‡æ¢åˆ°å¼€å‘åˆ†æ”¯
git checkout develop
```

### 2. ä¾èµ–å®‰è£…
```bash
# ä½¿ç”¨pnpm (æ¨è)
npm install -g pnpm
pnpm install

# æˆ–ä½¿ç”¨npm
npm install

# éªŒè¯å®‰è£…
pnpm list --depth=0
```

### 3. ç¯å¢ƒå˜é‡é…ç½®

#### ç¯å¢ƒå˜é‡æ–‡ä»¶ç»“æ„
```
â”œâ”€â”€ .env                    # é»˜è®¤ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.local             # æœ¬åœ°ç¯å¢ƒå˜é‡ (ä¸æäº¤åˆ°Git)
â”œâ”€â”€ .env.development       # å¼€å‘ç¯å¢ƒ
â”œâ”€â”€ .env.staging          # æµ‹è¯•ç¯å¢ƒ
â””â”€â”€ .env.production       # ç”Ÿäº§ç¯å¢ƒ
```

#### .env.development ç¤ºä¾‹
```bash
# åº”ç”¨é…ç½®
VITE_APP_TITLE=äººåŠ›èµ„æºè°ƒåº¦ç³»ç»Ÿ
VITE_APP_VERSION=1.0.0
VITE_APP_ENV=development

# APIé…ç½®
VITE_API_BASE_URL=http://localhost:8000
VITE_API_TIMEOUT=10000
VITE_API_RETRY_COUNT=3

# è®¤è¯é…ç½®
VITE_AUTH_TOKEN_KEY=hr_access_token
VITE_AUTH_REFRESH_KEY=hr_refresh_token
VITE_AUTH_TOKEN_EXPIRE=3600

# åŠŸèƒ½å¼€å…³
VITE_ENABLE_MOCK=true
VITE_ENABLE_DEBUG=true
VITE_ENABLE_ANALYTICS=false

# ç¬¬ä¸‰æ–¹æœåŠ¡
VITE_SENTRY_DSN=
VITE_GOOGLE_ANALYTICS_ID=
```

#### .env.local ç¤ºä¾‹ (ä¸ªäººé…ç½®)
```bash
# ä¸ªäººå¼€å‘é…ç½®
VITE_DEV_SERVER_PORT=3000
VITE_DEV_SERVER_HOST=0.0.0.0

# åç«¯æœåŠ¡åœ°å€ (å¯æ ¹æ®ä¸ªäººç¯å¢ƒè°ƒæ•´)
VITE_API_BASE_URL=http://192.168.1.100:8000

# è°ƒè¯•é…ç½®
VITE_DEBUG_LEVEL=debug
VITE_ENABLE_VCONSOLE=true
```

### 4. é¡¹ç›®å¯åŠ¨
```bash
# å¼€å‘æ¨¡å¼å¯åŠ¨
pnpm dev

# æŒ‡å®šç«¯å£å¯åŠ¨
pnpm dev --port 3001

# æŒ‡å®šä¸»æœºå¯åŠ¨ (å±€åŸŸç½‘è®¿é—®)
pnpm dev --host 0.0.0.0

# ç”Ÿäº§æ„å»º
pnpm build

# é¢„è§ˆç”Ÿäº§æ„å»º
pnpm preview
```

### 5. ä»£ç è´¨é‡æ£€æŸ¥
```bash
# ESLintæ£€æŸ¥
pnpm lint

# è‡ªåŠ¨ä¿®å¤
pnpm lint:fix

# ç±»å‹æ£€æŸ¥
pnpm type-check

# æ ¼å¼åŒ–ä»£ç 
pnpm format

# è¿è¡Œæµ‹è¯•
pnpm test

# æµ‹è¯•è¦†ç›–ç‡
pnpm test:coverage
```

## å¼€å‘å·¥å…·é…ç½®

### VS Codeé…ç½®

#### .vscode/settings.json
```json
{
  "typescript.preferences.importModuleSpecifier": "relative",
  "typescript.suggest.autoImports": true,
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true,
    "source.organizeImports": true
  },
  "emmet.includeLanguages": {
    "typescript": "html",
    "javascript": "html"
  },
  "files.associations": {
    "*.css": "tailwindcss"
  },
  "tailwindCSS.includeLanguages": {
    "typescript": "html",
    "javascript": "html"
  },
  "search.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/.git": true
  }
}
```

#### .vscode/launch.json (è°ƒè¯•é…ç½®)
```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Launch Chrome",
      "type": "chrome",
      "request": "launch",
      "url": "http://localhost:3000",
      "webRoot": "${workspaceFolder}/src",
      "sourceMapPathOverrides": {
        "webpack:///src/*": "${webRoot}/*"
      }
    },
    {
      "name": "Attach to Chrome",
      "type": "chrome",
      "request": "attach",
      "port": 9222,
      "webRoot": "${workspaceFolder}/src"
    }
  ]
}
```

### ESLinté…ç½®

#### .eslintrc.js
```javascript
module.exports = {
  root: true,
  env: {
    browser: true,
    es2020: true,
    node: true
  },
  extends: [
    'eslint:recommended',
    '@typescript-eslint/recommended',
    'plugin:react/recommended',
    'plugin:react-hooks/recommended',
    'plugin:jsx-a11y/recommended',
    'prettier'
  ],
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaFeatures: {
      jsx: true
    },
    ecmaVersion: 2020,
    sourceType: 'module'
  },
  plugins: [
    'react',
    'react-hooks',
    '@typescript-eslint',
    'jsx-a11y',
    'import'
  ],
  rules: {
    'react/react-in-jsx-scope': 'off',
    'react/prop-types': 'off',
    '@typescript-eslint/no-unused-vars': 'error',
    '@typescript-eslint/explicit-function-return-type': 'off',
    'import/order': [
      'error',
      {
        'groups': [
          'builtin',
          'external',
          'internal',
          'parent',
          'sibling',
          'index'
        ],
        'newlines-between': 'always'
      }
    ]
  },
  settings: {
    react: {
      version: 'detect'
    }
  }
};
```

### Prettieré…ç½®

#### .prettierrc
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "bracketSameLine": false,
  "arrowParens": "avoid",
  "endOfLine": "lf"
}
```

## è”è°ƒè°ƒè¯•æŒ‡å—

### ä»£ç†é…ç½®

#### Viteä»£ç†é…ç½® (vite.config.ts)
```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  server: {
    port: 3000,
    host: '0.0.0.0',
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
        secure: false,
        configure: (proxy, options) => {
          proxy.on('error', (err, req, res) => {
            console.log('proxy error', err);
          });
          proxy.on('proxyReq', (proxyReq, req, res) => {
            console.log('Sending Request to the Target:', req.method, req.url);
          });
          proxy.on('proxyRes', (proxyRes, req, res) => {
            console.log('Received Response from the Target:', proxyRes.statusCode, req.url);
          });
        }
      },
      '/ws': {
        target: 'ws://localhost:8000',
        ws: true,
        changeOrigin: true
      }
    }
  },
  build: {
    sourcemap: true,
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          antd: ['antd']
        }
      }
    }
  }
});
```

### è·¨åŸŸè§£å†³æ–¹æ¡ˆ

#### 1. å¼€å‘ç¯å¢ƒä»£ç† (æ¨è)
```typescript
// åœ¨vite.config.tsä¸­é…ç½®ä»£ç†
proxy: {
  '/api': {
    target: process.env.VITE_API_BASE_URL || 'http://localhost:8000',
    changeOrigin: true,
    rewrite: (path) => path.replace(/^\/api/, '')
  }
}
```

#### 2. åç«¯CORSé…ç½®
```python
# åç«¯FastAPI CORSé…ç½®ç¤ºä¾‹
from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000", "http://127.0.0.1:3000"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

#### 3. æµè§ˆå™¨ç¦ç”¨å®‰å…¨ç­–ç•¥ (ä»…å¼€å‘ç¯å¢ƒ)
```bash
# Chromeå¯åŠ¨å‚æ•° (ä»…ç”¨äºå¼€å‘æµ‹è¯•)
chrome --disable-web-security --disable-features=VizDisplayCompositor --user-data-dir=/tmp/chrome_dev
```

### è°ƒè¯•æŠ€å·§

#### 1. ç½‘ç»œè¯·æ±‚è°ƒè¯•
```typescript
// APIè¯·æ±‚æ‹¦æˆªå™¨
import axios from 'axios';

const api = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL,
  timeout: 10000
});

// è¯·æ±‚æ‹¦æˆªå™¨
api.interceptors.request.use(
  (config) => {
    console.log('ğŸš€ Request:', config.method?.toUpperCase(), config.url);
    console.log('ğŸ“¤ Data:', config.data);
    return config;
  },
  (error) => {
    console.error('âŒ Request Error:', error);
    return Promise.reject(error);
  }
);

// å“åº”æ‹¦æˆªå™¨
api.interceptors.response.use(
  (response) => {
    console.log('âœ… Response:', response.status, response.config.url);
    console.log('ğŸ“¥ Data:', response.data);
    return response;
  },
  (error) => {
    console.error('âŒ Response Error:', error.response?.status, error.config?.url);
    console.error('ğŸ“¥ Error Data:', error.response?.data);
    return Promise.reject(error);
  }
);
```

#### 2. çŠ¶æ€è°ƒè¯•
```typescript
// Redux DevToolsé…ç½®
import { configureStore } from '@reduxjs/toolkit';

const store = configureStore({
  reducer: rootReducer,
  devTools: process.env.NODE_ENV !== 'production',
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware({
      serializableCheck: {
        ignoredActions: ['persist/PERSIST']
      }
    })
});
```

#### 3. æ€§èƒ½è°ƒè¯•
```typescript
// Reactæ€§èƒ½åˆ†æ
import { Profiler } from 'react';

function onRenderCallback(id, phase, actualDuration) {
  console.log('Profiler:', { id, phase, actualDuration });
}

function App() {
  return (
    <Profiler id="App" onRender={onRenderCallback}>
      <Router>
        <Routes>
          {/* è·¯ç”±é…ç½® */}
        </Routes>
      </Router>
    </Profiler>
  );
}
```

### MockæœåŠ¡é…ç½®

#### 1. MSW (Mock Service Worker) é…ç½®
```typescript
// src/mocks/handlers.ts
import { rest } from 'msw';

export const handlers = [
  rest.get('/api/users', (req, res, ctx) => {
    return res(
      ctx.status(200),
      ctx.json({
        success: true,
        data: {
          items: [
            { id: 1, name: 'å¼ ä¸‰', email: 'zhangsan@example.com' }
          ],
          pagination: { page: 1, size: 20, total: 1, pages: 1 }
        }
      })
    );
  }),
  
  rest.post('/api/auth/login', (req, res, ctx) => {
    return res(
      ctx.status(200),
      ctx.json({
        success: true,
        data: {
          token: 'mock-jwt-token',
          user: { id: 1, username: 'admin', name: 'ç®¡ç†å‘˜' }
        }
      })
    );
  })
];

// src/mocks/browser.ts
import { setupWorker } from 'msw';
import { handlers } from './handlers';

export const worker = setupWorker(...handlers);

// src/main.tsx
if (import.meta.env.VITE_ENABLE_MOCK === 'true') {
  import('./mocks/browser').then(({ worker }) => {
    worker.start();
  });
}
```

#### 2. JSON Serveré…ç½®
```bash
# å®‰è£…json-server
npm install -g json-server

# åˆ›å»ºmockæ•°æ®æ–‡ä»¶ db.json
{
  "users": [
    { "id": 1, "name": "å¼ ä¸‰", "email": "zhangsan@example.com" }
  ],
  "projects": [
    { "id": 1, "name": "é¡¹ç›®A", "status": "active" }
  ]
}

# å¯åŠ¨mockæœåŠ¡
json-server --watch db.json --port 3001
```

## å¸¸è§é—®é¢˜è§£å†³

### 1. ä¾èµ–å®‰è£…é—®é¢˜
```bash
# æ¸…ç†ç¼“å­˜
npm cache clean --force
pnpm store prune

# åˆ é™¤node_modulesé‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install

# ç½‘ç»œé—®é¢˜ä½¿ç”¨å›½å†…é•œåƒ
npm config set registry https://registry.npmmirror.com/
pnpm config set registry https://registry.npmmirror.com/
```

### 2. ç«¯å£å ç”¨é—®é¢˜
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :3000  # Windows
lsof -i :3000                 # macOS/Linux

# æ€æ­»è¿›ç¨‹
taskkill /PID <PID> /F        # Windows
kill -9 <PID>                 # macOS/Linux
```

### 3. æƒé™é—®é¢˜
```bash
# macOS/Linuxæƒé™é—®é¢˜
sudo chown -R $(whoami) ~/.npm
sudo chown -R $(whoami) /usr/local/lib/node_modules

# Windowsæƒé™é—®é¢˜
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œç»ˆç«¯
```

### 4. çƒ­æ›´æ–°ä¸ç”Ÿæ•ˆ
```bash
# æ£€æŸ¥æ–‡ä»¶ç›‘å¬é™åˆ¶ (Linux)
echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf
sudo sysctl -p

# é‡å¯å¼€å‘æœåŠ¡å™¨
pnpm dev --force
```

## å›¢é˜Ÿåä½œè§„èŒƒ

### Gitå·¥ä½œæµ
```bash
# åŠŸèƒ½å¼€å‘æµç¨‹
git checkout develop
git pull origin develop
git checkout -b feature/user-management

# å¼€å‘å®Œæˆå
git add .
git commit -m "feat: æ·»åŠ ç”¨æˆ·ç®¡ç†åŠŸèƒ½"
git push origin feature/user-management

# åˆ›å»ºPull Request
# ä»£ç å®¡æŸ¥é€šè¿‡ååˆå¹¶åˆ°developåˆ†æ”¯
```

### æäº¤ä¿¡æ¯è§„èŒƒ
```bash
# æäº¤ç±»å‹
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºå·¥å…·æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

# æäº¤ç¤ºä¾‹
git commit -m "feat(user): æ·»åŠ ç”¨æˆ·åˆ—è¡¨åˆ†é¡µåŠŸèƒ½"
git commit -m "fix(api): ä¿®å¤ç™»å½•æ¥å£è¶…æ—¶é—®é¢˜"
git commit -m "docs(readme): æ›´æ–°å®‰è£…è¯´æ˜"
```

### ä»£ç å®¡æŸ¥æ¸…å•
- [ ] ä»£ç ç¬¦åˆESLintè§„åˆ™
- [ ] ç»„ä»¶æœ‰é€‚å½“çš„TypeScriptç±»å‹å®šä¹‰
- [ ] æ–°åŠŸèƒ½æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹
- [ ] æ€§èƒ½æ•æ„Ÿçš„ä»£ç æœ‰ä¼˜åŒ–è€ƒè™‘
- [ ] æ— å®‰å…¨æ¼æ´å’Œæ•æ„Ÿä¿¡æ¯æ³„éœ²
- [ ] ä»£ç æ³¨é‡Šæ¸…æ™°ï¼Œå¤æ‚é€»è¾‘æœ‰è¯´æ˜
- [ ] éµå¾ªé¡¹ç›®çš„å‘½åè§„èŒƒå’Œç›®å½•ç»“æ„

---

*æœ¬æ–‡æ¡£æä¾›å¼€å‘ç¯å¢ƒé…ç½®è§„èŒƒï¼Œè¯·æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚*