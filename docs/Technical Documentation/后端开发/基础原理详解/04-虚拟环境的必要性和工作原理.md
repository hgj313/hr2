# è™šæ‹Ÿç¯å¢ƒçš„å¿…è¦æ€§å’Œå·¥ä½œåŸç†

## æ¦‚è¿°

è™šæ‹Ÿç¯å¢ƒæ˜¯Pythonå¼€å‘ä¸­çš„é‡è¦æ¦‚å¿µï¼Œå®ƒä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„Pythonè¿è¡Œç¯å¢ƒï¼Œè§£å†³äº†ä¾èµ–å†²çªã€ç‰ˆæœ¬ç®¡ç†ç­‰å…³é”®é—®é¢˜ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æè™šæ‹Ÿç¯å¢ƒçš„å·¥ä½œåŸç†ï¼Œä»¥äººåŠ›èµ„æºè°ƒåº¦ç³»ç»Ÿä¸ºä¾‹ï¼Œè¯¦ç»†è¯´æ˜è™šæ‹Ÿç¯å¢ƒåœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨ã€‚

## ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿç¯å¢ƒï¼Ÿ

### é—®é¢˜åœºæ™¯åˆ†æ

åœ¨æ²¡æœ‰è™šæ‹Ÿç¯å¢ƒçš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰Pythoné¡¹ç›®å…±äº«åŒä¸€ä¸ªç³»ç»ŸPythonç¯å¢ƒï¼Œè¿™ä¼šå¯¼è‡´å¤šç§é—®é¢˜ï¼š

```
ç³»ç»ŸPythonç¯å¢ƒçš„é—®é¢˜:
â”œâ”€â”€ é¡¹ç›®Aéœ€è¦Django 3.2
â”œâ”€â”€ é¡¹ç›®Béœ€è¦Flask 1.1
â”œâ”€â”€ é¡¹ç›®Céœ€è¦Flask 2.0
â””â”€â”€ äººåŠ›èµ„æºè°ƒåº¦ç³»ç»Ÿéœ€è¦FastAPI 0.104.1

å¦‚æœç›´æ¥åœ¨ç³»ç»Ÿç¯å¢ƒå®‰è£…:
1. ç‰ˆæœ¬å†²çªï¼šFlask 1.1 vs Flask 2.0 vs FastAPI 0.104.1
2. ä¾èµ–æ··ä¹±ï¼šä¸åŒé¡¹ç›®çš„ä¾èµ–ç›¸äº’å½±å“
3. å‡çº§é£é™©ï¼šå‡çº§ä¸€ä¸ªé¡¹ç›®çš„ä¾èµ–å¯èƒ½ç ´åå…¶ä»–é¡¹ç›®
4. éƒ¨ç½²å›°éš¾ï¼šæ— æ³•å‡†ç¡®å¤ç°å¼€å‘ç¯å¢ƒ
5. æƒé™é—®é¢˜ï¼šç³»ç»Ÿçº§å®‰è£…å¯èƒ½éœ€è¦ç®¡ç†å‘˜æƒé™
```

### è™šæ‹Ÿç¯å¢ƒçš„è§£å†³æ–¹æ¡ˆ

è™šæ‹Ÿç¯å¢ƒä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„Pythonç¯å¢ƒï¼Œå®Œç¾è§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼š

```
ç³»ç»ŸPython 3.11
â”œâ”€â”€ venv_project_a/          # é¡¹ç›®Açš„ç‹¬ç«‹ç¯å¢ƒ
â”‚   â”œâ”€â”€ Python 3.11
â”‚   â”œâ”€â”€ Django 3.2
â”‚   â”œâ”€â”€ psycopg2 2.8
â”‚   â””â”€â”€ å…¶ä»–ä¾èµ–...
â”œâ”€â”€ venv_project_b/          # é¡¹ç›®Bçš„ç‹¬ç«‹ç¯å¢ƒ
â”‚   â”œâ”€â”€ Python 3.11
â”‚   â”œâ”€â”€ Flask 1.1
â”‚   â”œâ”€â”€ SQLAlchemy 1.3
â”‚   â””â”€â”€ å…¶ä»–ä¾èµ–...
â””â”€â”€ venv_hr_scheduling/      # äººåŠ›èµ„æºè°ƒåº¦ç³»ç»Ÿç¯å¢ƒ
    â”œâ”€â”€ Python 3.11
    â”œâ”€â”€ FastAPI 0.104.1
    â”œâ”€â”€ SQLAlchemy 2.0
    â”œâ”€â”€ python-jose[cryptography] 3.3.0
    â”œâ”€â”€ psycopg2-binary 2.9
    â””â”€â”€ å…¶ä»–ä¾èµ–...
```

## è™šæ‹Ÿç¯å¢ƒçš„å·¥ä½œåŸç†

### 1. ç¯å¢ƒéš”ç¦»æœºåˆ¶

#### è™šæ‹Ÿç¯å¢ƒçš„åˆ›å»ºè¿‡ç¨‹

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒæ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ
python -m venv venv

# ç³»ç»Ÿä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
# 1. åˆ›å»ºç›®å½•ç»“æ„
# 2. å¤åˆ¶Pythonè§£é‡Šå™¨
# 3. åˆ›å»ºç‹¬ç«‹çš„site-packagesç›®å½•
# 4. ç”Ÿæˆæ¿€æ´»è„šæœ¬
# 5. é…ç½®ç¯å¢ƒå˜é‡
```

#### è™šæ‹Ÿç¯å¢ƒçš„ç›®å½•ç»“æ„

```
venv/                        # è™šæ‹Ÿç¯å¢ƒæ ¹ç›®å½•
â”œâ”€â”€ Scripts/                 # Windowsä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ python.exe          # ç‹¬ç«‹çš„Pythonè§£é‡Šå™¨å‰¯æœ¬
â”‚   â”œâ”€â”€ pip.exe             # ç‹¬ç«‹çš„åŒ…ç®¡ç†å™¨
â”‚   â”œâ”€â”€ activate.bat        # ç¯å¢ƒæ¿€æ´»è„šæœ¬ï¼ˆWindowsï¼‰
â”‚   â”œâ”€â”€ deactivate.bat      # ç¯å¢ƒåœç”¨è„šæœ¬ï¼ˆWindowsï¼‰
â”‚   â””â”€â”€ å…¶ä»–å·¥å…·è„šæœ¬...
â”œâ”€â”€ Lib/                    # Pythonåº“ç›®å½•
â”‚   â””â”€â”€ site-packages/      # ç¬¬ä¸‰æ–¹åŒ…å®‰è£…ä½ç½®
â”‚       â”œâ”€â”€ flask/          # FlaskåŒ…
â”‚       â”œâ”€â”€ sqlalchemy/     # SQLAlchemyåŒ…
â”‚       â””â”€â”€ å…¶ä»–åŒ…...
â”œâ”€â”€ Include/                # Cå¤´æ–‡ä»¶ç›®å½•
â””â”€â”€ pyvenv.cfg             # è™šæ‹Ÿç¯å¢ƒé…ç½®æ–‡ä»¶
```

#### pyvenv.cfgé…ç½®æ–‡ä»¶è§£æ

```ini
# pyvenv.cfg - è™šæ‹Ÿç¯å¢ƒé…ç½®æ–‡ä»¶
home = C:\Python311          # åŸºç¡€Pythonå®‰è£…è·¯å¾„
include-system-site-packages = false  # æ˜¯å¦åŒ…å«ç³»ç»ŸåŒ…
version = 3.11.5            # Pythonç‰ˆæœ¬
executable = C:\Python311\python.exe  # åŸºç¡€Pythonè§£é‡Šå™¨è·¯å¾„
command = C:\Python311\python.exe -m venv venv  # åˆ›å»ºå‘½ä»¤

# ä¸ºä»€ä¹ˆinclude-system-site-packages = falseï¼Ÿ
# 1. å®Œå…¨éš”ç¦»ï¼šç¡®ä¿è™šæ‹Ÿç¯å¢ƒä¸å—ç³»ç»ŸåŒ…å½±å“
# 2. ä¾èµ–æ˜ç¡®ï¼šåªä½¿ç”¨æ˜ç¡®å®‰è£…çš„åŒ…
# 3. å¯é‡ç°æ€§ï¼šç¯å¢ƒæ›´å®¹æ˜“å¤ç°
```

### 2. æ¿€æ´»æœºåˆ¶è¯¦è§£

#### æ¿€æ´»è„šæœ¬çš„å·¥ä½œåŸç†

```bash
# Windowsä¸‹æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
venv\Scripts\activate

# æ¿€æ´»è„šæœ¬ä¼šä¿®æ”¹ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
# 1. PATHï¼šå°†è™šæ‹Ÿç¯å¢ƒçš„Scriptsç›®å½•æ·»åŠ åˆ°PATHå‰é¢
# 2. VIRTUAL_ENVï¼šè®¾ç½®è™šæ‹Ÿç¯å¢ƒè·¯å¾„
# 3. PROMPTï¼šä¿®æ”¹å‘½ä»¤è¡Œæç¤ºç¬¦æ˜¾ç¤ºç¯å¢ƒåç§°
```

#### ç¯å¢ƒå˜é‡çš„å˜åŒ–

```bash
# æ¿€æ´»å‰çš„ç¯å¢ƒå˜é‡
PATH=C:\Windows\System32;C:\Python311;C:\Python311\Scripts;...
VIRTUAL_ENV=  # æœªè®¾ç½®

# æ¿€æ´»åçš„ç¯å¢ƒå˜é‡
PATH=C:\path\to\venv\Scripts;C:\Windows\System32;C:\Python311;...
VIRTUAL_ENV=C:\path\to\venv

# ä¸ºä»€ä¹ˆè¦ä¿®æ”¹PATHï¼Ÿ
# 1. ä¼˜å…ˆçº§ï¼šç¡®ä¿ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒçš„Pythonå’Œå·¥å…·
# 2. é€æ˜æ€§ï¼šç”¨æˆ·æ— éœ€æŒ‡å®šå®Œæ•´è·¯å¾„
# 3. å·¥å…·å…¼å®¹ï¼šå„ç§å·¥å…·èƒ½è‡ªåŠ¨æ‰¾åˆ°æ­£ç¡®çš„Python
```

#### Pythonæ¨¡å—æœç´¢è·¯å¾„çš„å˜åŒ–

```python
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒåï¼ŒPythonçš„æ¨¡å—æœç´¢è·¯å¾„
import sys
print(sys.path)

# è¾“å‡ºç¤ºä¾‹ï¼š
[
    '',  # å½“å‰ç›®å½•
    'C:\\path\\to\\venv\\Lib\\site-packages',  # è™šæ‹Ÿç¯å¢ƒåŒ…ç›®å½•ï¼ˆä¼˜å…ˆï¼‰
    'C:\\Python311\\Lib',                      # æ ‡å‡†åº“
    'C:\\Python311\\DLLs',                     # åŠ¨æ€é“¾æ¥åº“
    'C:\\Python311\\Lib\\site-packages',       # ç³»ç»ŸåŒ…ç›®å½•ï¼ˆæœ€åï¼‰
]

# ä¸ºä»€ä¹ˆè™šæ‹Ÿç¯å¢ƒè·¯å¾„åœ¨å‰é¢ï¼Ÿ
# 1. ä¼˜å…ˆåŠ è½½ï¼šè™šæ‹Ÿç¯å¢ƒçš„åŒ…ä¼˜å…ˆäºç³»ç»ŸåŒ…
# 2. ç‰ˆæœ¬æ§åˆ¶ï¼šç¡®ä¿ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„åŒ…
# 3. éš”ç¦»æ€§ï¼šé¿å…ç³»ç»ŸåŒ…çš„å¹²æ‰°
```

### 3. åŒ…å®‰è£…éš”ç¦»æœºåˆ¶

#### åŒ…å®‰è£…è¿‡ç¨‹åˆ†æ

```bash
# åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…åŒ…
pip install flask

# pipçš„å·¥ä½œè¿‡ç¨‹ï¼š
# 1. æ£€æŸ¥VIRTUAL_ENVç¯å¢ƒå˜é‡
# 2. ç¡®å®šå®‰è£…ç›®æ ‡ï¼švenv/Lib/site-packages/
# 3. ä¸‹è½½åŒ…æ–‡ä»¶
# 4. å®‰è£…åˆ°è™šæ‹Ÿç¯å¢ƒç›®å½•
# 5. æ›´æ–°åŒ…å…ƒæ•°æ®
```

#### åŒ…æŸ¥æ‰¾æœºåˆ¶

```python
# Pythonå¯¼å…¥åŒ…æ—¶çš„æŸ¥æ‰¾é¡ºåº
import flask

# æŸ¥æ‰¾è¿‡ç¨‹ï¼š
# 1. æ£€æŸ¥sys.modulesï¼ˆå·²åŠ è½½æ¨¡å—ç¼“å­˜ï¼‰
# 2. åœ¨sys.pathä¸­æŒ‰é¡ºåºæŸ¥æ‰¾
#    a. å½“å‰ç›®å½•
#    b. venv/Lib/site-packages/  â† è™šæ‹Ÿç¯å¢ƒåŒ…ï¼ˆä¼˜å…ˆï¼‰
#    c. Pythonæ ‡å‡†åº“ç›®å½•
#    d. ç³»ç»Ÿsite-packagesç›®å½•
# 3. æ‰¾åˆ°ååŠ è½½å¹¶ç¼“å­˜

# ä¸ºä»€ä¹ˆè¿™ä¸ªé¡ºåºå¾ˆé‡è¦ï¼Ÿ
# 1. ç‰ˆæœ¬ä¼˜å…ˆï¼šè™šæ‹Ÿç¯å¢ƒç‰ˆæœ¬è¦†ç›–ç³»ç»Ÿç‰ˆæœ¬
# 2. éš”ç¦»æ€§ï¼šé¿å…æ„å¤–ä½¿ç”¨ç³»ç»ŸåŒ…
# 3. å¯é¢„æµ‹ï¼šå¯¼å…¥è¡Œä¸ºä¸€è‡´ä¸”å¯é¢„æµ‹
```

## åœ¨äººåŠ›èµ„æºè°ƒåº¦ç³»ç»Ÿä¸­çš„åº”ç”¨

### 1. é¡¹ç›®ç¯å¢ƒæ­å»º

```bash
# 1. åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir "C:\Human resource scheduling"
cd "C:\Human resource scheduling"

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
# ä¸ºä»€ä¹ˆé€‰æ‹©venvè€Œä¸æ˜¯virtualenvï¼Ÿ
# - venvæ˜¯Python 3.3+çš„å†…ç½®æ¨¡å—
# - æ›´è½»é‡ï¼Œå¯åŠ¨æ›´å¿«
# - å®˜æ–¹æ¨èï¼Œé•¿æœŸæ”¯æŒ
python -m venv venv

# 3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
venv\Scripts\activate

# 4. å‡çº§pipï¼ˆä¸ºä»€ä¹ˆè¦å‡çº§ï¼Ÿï¼‰
# - è·å¾—æœ€æ–°åŠŸèƒ½å’Œå®‰å…¨ä¿®å¤
# - æ›´å¥½çš„ä¾èµ–è§£æ
# - æ”¯æŒæ–°çš„åŒ…æ ¼å¼
python -m pip install --upgrade pip

# 5. éªŒè¯ç¯å¢ƒ
where python  # åº”è¯¥æŒ‡å‘venv\Scripts\python.exe
where pip     # åº”è¯¥æŒ‡å‘venv\Scripts\pip.exe
```

### 2. ä¾èµ–ç®¡ç†å®è·µ

```bash
# å®‰è£…é¡¹ç›®ä¾èµ–
pip install fastapi==0.104.1
pip install uvicorn[standard]==0.24.0
pip install sqlalchemy==2.0.23
pip install alembic==1.12.1
pip install python-jose[cryptography]==3.3.0
pip install passlib[bcrypt]==1.7.4
pip install psycopg2-binary==2.9.7
pip install redis==4.6.0

# ä¸ºä»€ä¹ˆè¦æŒ‡å®šç‰ˆæœ¬å·ï¼Ÿ
# 1. ä¸€è‡´æ€§ï¼šç¡®ä¿æ‰€æœ‰ç¯å¢ƒä½¿ç”¨ç›¸åŒç‰ˆæœ¬
# 2. ç¨³å®šæ€§ï¼šé¿å…è‡ªåŠ¨å‡çº§å¯¼è‡´çš„é—®é¢˜
# 3. å¯é‡ç°ï¼šå…¶ä»–å¼€å‘è€…èƒ½å¤ç°ç›¸åŒç¯å¢ƒ

# ç”Ÿæˆä¾èµ–æ¸…å•
pip freeze > requirements.txt

# requirements.txtå†…å®¹ç¤ºä¾‹ï¼š
# fastapi==0.104.1
# uvicorn==0.24.0
# sqlalchemy==2.0.23
# alembic==1.12.1
# python-jose==3.3.0
# passlib==1.7.4
# psycopg2-binary==2.9.7
# redis==4.6.0
# pydantic==2.5.0
# starlette==0.27.0
# ...
```

### 3. å¼€å‘ç¯å¢ƒé…ç½®

```python
# config/development.py
import os

class DevelopmentConfig:
    """å¼€å‘ç¯å¢ƒé…ç½®
    
    ä¸ºä»€ä¹ˆè¦å•ç‹¬çš„å¼€å‘ç¯å¢ƒé…ç½®ï¼Ÿ
    1. è°ƒè¯•å‹å¥½ï¼šå¯ç”¨è¯¦ç»†æ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯
    2. å¼€å‘ä¾¿åˆ©ï¼šä½¿ç”¨æœ¬åœ°æ•°æ®åº“å’Œç¼“å­˜
    3. çƒ­é‡è½½ï¼šæ”¯æŒä»£ç ä¿®æ”¹åè‡ªåŠ¨é‡å¯
    """
    DEBUG = True
    TESTING = False
    
    # æ•°æ®åº“é…ç½®
    SQLALCHEMY_DATABASE_URI = (
        os.environ.get('DEV_DATABASE_URL') or
        'postgresql://postgres:password@localhost/hr_scheduling_dev'
    )
    SQLALCHEMY_ECHO = True  # æ‰“å°SQLè¯­å¥ï¼Œä¾¿äºè°ƒè¯•
    
    # Redisé…ç½®
    REDIS_URL = os.environ.get('REDIS_URL') or 'redis://localhost:6379/0'
    
    # JWTé…ç½®
    JWT_SECRET_KEY = 'dev-jwt-secret-key'
    JWT_ACCESS_TOKEN_EXPIRES = timedelta(hours=24)  # å¼€å‘æ—¶å»¶é•¿è¿‡æœŸæ—¶é—´
    
    # é‚®ä»¶é…ç½®ï¼ˆå¼€å‘æ—¶ä½¿ç”¨æ§åˆ¶å°è¾“å‡ºï¼‰
    MAIL_SERVER = 'localhost'
    MAIL_PORT = 1025  # MailHogæµ‹è¯•é‚®ä»¶æœåŠ¡å™¨
    MAIL_USE_TLS = False
    MAIL_USE_SSL = False
```

### 4. ç¯å¢ƒå¤ç°å’Œéƒ¨ç½²

```bash
# å…¶ä»–å¼€å‘è€…å¤ç°ç¯å¢ƒ
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd hr_scheduling

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
venv\Scripts\activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. éªŒè¯å®‰è£…
pip list  # æŸ¥çœ‹å·²å®‰è£…åŒ…
python -c "import fastapi; print(fastapi.__version__)"  # éªŒè¯FastAPIç‰ˆæœ¬

# 5. è¿è¡Œé¡¹ç›®
python run.py
```

## è™šæ‹Ÿç¯å¢ƒçš„é«˜çº§ç”¨æ³•

### 1. å¤šPythonç‰ˆæœ¬ç®¡ç†

```bash
# ä½¿ç”¨ä¸åŒPythonç‰ˆæœ¬åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
# å‡è®¾ç³»ç»Ÿå®‰è£…äº†Python 3.9å’Œ3.11

# åˆ›å»ºPython 3.9ç¯å¢ƒ
C:\Python39\python.exe -m venv venv_py39

# åˆ›å»ºPython 3.11ç¯å¢ƒ
C:\Python311\python.exe -m venv venv_py311

# ä¸ºä»€ä¹ˆéœ€è¦å¤šç‰ˆæœ¬ï¼Ÿ
# 1. å…¼å®¹æ€§æµ‹è¯•ï¼šæµ‹è¯•ä»£ç åœ¨ä¸åŒPythonç‰ˆæœ¬ä¸‹çš„è¡¨ç°
# 2. ä¾èµ–è¦æ±‚ï¼šæŸäº›åŒ…åªæ”¯æŒç‰¹å®šPythonç‰ˆæœ¬
# 3. ç”Ÿäº§ç¯å¢ƒåŒ¹é…ï¼šå¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒPythonç‰ˆæœ¬ä¸€è‡´
```

### 2. ç¯å¢ƒå˜é‡ç®¡ç†

```python
# .envæ–‡ä»¶ - ç¯å¢ƒå˜é‡é…ç½®
# ä¸ºä»€ä¹ˆä½¿ç”¨.envæ–‡ä»¶ï¼Ÿ
# 1. é…ç½®é›†ä¸­ï¼šæ‰€æœ‰ç¯å¢ƒå˜é‡åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­
# 2. å®‰å…¨æ€§ï¼šæ•æ„Ÿä¿¡æ¯ä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
# 3. ä¾¿åˆ©æ€§ï¼šä¸åŒç¯å¢ƒå¯ä»¥ä½¿ç”¨ä¸åŒçš„.envæ–‡ä»¶

# å¼€å‘ç¯å¢ƒ .env
FLASK_ENV=development
FLASK_DEBUG=1
DATABASE_URL=postgresql://postgres:password@localhost/hr_scheduling_dev
REDIS_URL=redis://localhost:6379/0
JWT_SECRET_KEY=dev-jwt-secret-key
MAIL_SERVER=localhost
MAIL_PORT=1025

# ç”Ÿäº§ç¯å¢ƒ .env.production
FLASK_ENV=production
FLASK_DEBUG=0
DATABASE_URL=postgresql://user:pass@prod-db:5432/hr_scheduling
REDIS_URL=redis://prod-redis:6379/0
JWT_SECRET_KEY=super-secret-production-key
MAIL_SERVER=smtp.company.com
MAIL_PORT=587
```

```python
# åŠ è½½ç¯å¢ƒå˜é‡
# app/__init__.py
import os
from dotenv import load_dotenv

def create_app(config_name='development'):
    # åŠ è½½ç¯å¢ƒå˜é‡
    if config_name == 'development':
        load_dotenv('.env')
    elif config_name == 'production':
        load_dotenv('.env.production')
    
    app = Flask(__name__)
    
    # ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®åº”ç”¨
    app.config['DATABASE_URL'] = os.environ.get('DATABASE_URL')
    app.config['REDIS_URL'] = os.environ.get('REDIS_URL')
    app.config['JWT_SECRET_KEY'] = os.environ.get('JWT_SECRET_KEY')
    
    return app
```

### 3. ä¾èµ–åˆ†å±‚ç®¡ç†

```
requirements/
â”œâ”€â”€ base.txt              # åŸºç¡€ä¾èµ–
â”œâ”€â”€ development.txt       # å¼€å‘ç¯å¢ƒä¾èµ–
â”œâ”€â”€ testing.txt          # æµ‹è¯•ç¯å¢ƒä¾èµ–
â””â”€â”€ production.txt       # ç”Ÿäº§ç¯å¢ƒä¾èµ–
```

```txt
# requirements/base.txt - æ‰€æœ‰ç¯å¢ƒå…±åŒä¾èµ–
fastapi==0.104.1
SQLAlchemy==2.0.21
alembic==1.12.1
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
psycopg2-binary==2.9.7
redis==4.6.0
python-dotenv==1.0.0

# requirements/development.txt - å¼€å‘ç¯å¢ƒé¢å¤–ä¾èµ–
-r base.txt  # ç»§æ‰¿åŸºç¡€ä¾èµ–
uvicorn[standard]==0.24.0   # ASGIå¼€å‘æœåŠ¡å™¨
ipython==8.15.0             # å¢å¼ºçš„Python shell
flake8==6.0.0               # ä»£ç é£æ ¼æ£€æŸ¥
black==23.7.0               # ä»£ç æ ¼å¼åŒ–
pytest==7.4.2               # æµ‹è¯•æ¡†æ¶
httpx==0.25.0               # å¼‚æ­¥HTTPå®¢æˆ·ç«¯ï¼ˆæµ‹è¯•ç”¨ï¼‰

# requirements/production.txt - ç”Ÿäº§ç¯å¢ƒä¾èµ–
-r base.txt
uvicorn[standard]==0.24.0   # ASGIæœåŠ¡å™¨
gunicorn==21.2.0            # è¿›ç¨‹ç®¡ç†å™¨
prometheus-client==0.17.1   # ç›‘æ§æŒ‡æ ‡
```

```bash
# æ ¹æ®ç¯å¢ƒå®‰è£…ä¸åŒä¾èµ–
# å¼€å‘ç¯å¢ƒ
pip install -r requirements/development.txt

# ç”Ÿäº§ç¯å¢ƒ
pip install -r requirements/production.txt

# æµ‹è¯•ç¯å¢ƒ
pip install -r requirements/testing.txt
```

## è™šæ‹Ÿç¯å¢ƒçš„æœ€ä½³å®è·µ

### 1. å‘½åè§„èŒƒ

```bash
# æ¨èçš„è™šæ‹Ÿç¯å¢ƒå‘½åæ–¹å¼

# æ–¹å¼1ï¼šé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„venvï¼ˆæ¨èï¼‰
project_root/
â”œâ”€â”€ venv/           # è™šæ‹Ÿç¯å¢ƒ
â”œâ”€â”€ app/            # åº”ç”¨ä»£ç 
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md

# æ–¹å¼2ï¼šé›†ä¸­ç®¡ç†ï¼ˆé€‚åˆå¤šé¡¹ç›®ï¼‰
~/.virtualenvs/
â”œâ”€â”€ hr_scheduling/  # äººåŠ›èµ„æºè°ƒåº¦ç³»ç»Ÿç¯å¢ƒ
â”œâ”€â”€ blog_system/    # åšå®¢ç³»ç»Ÿç¯å¢ƒ
â””â”€â”€ api_gateway/    # APIç½‘å…³ç¯å¢ƒ

# ä¸ºä»€ä¹ˆæ¨èæ–¹å¼1ï¼Ÿ
# 1. é¡¹ç›®è‡ªåŒ…å«ï¼šç¯å¢ƒä¸é¡¹ç›®ä»£ç åœ¨ä¸€èµ·
# 2. éƒ¨ç½²ç®€å•ï¼šæ•´ä¸ªé¡¹ç›®ç›®å½•å¯ä»¥ç›´æ¥éƒ¨ç½²
# 3. ç‰ˆæœ¬æ§åˆ¶ï¼šå¯ä»¥é€‰æ‹©æ€§åœ°å¿½ç•¥venvç›®å½•
```

### 2. .gitignoreé…ç½®

```gitignore
# .gitignore - ç‰ˆæœ¬æ§åˆ¶å¿½ç•¥æ–‡ä»¶

# è™šæ‹Ÿç¯å¢ƒç›®å½•
venv/
env/
.venv/
.env/

# ä¸ºä»€ä¹ˆè¦å¿½ç•¥è™šæ‹Ÿç¯å¢ƒï¼Ÿ
# 1. ä½“ç§¯å¤§ï¼šåŒ…å«å¤§é‡ç¬¬ä¸‰æ–¹åŒ…æ–‡ä»¶
# 2. å¹³å°ç›¸å…³ï¼šä¸åŒæ“ä½œç³»ç»Ÿçš„ç¯å¢ƒä¸å…¼å®¹
# 3. å¯é‡å»ºï¼šé€šè¿‡requirements.txtå¯ä»¥é‡å»º
# 4. å®‰å…¨æ€§ï¼šé¿å…æäº¤æ•æ„Ÿçš„ç¯å¢ƒé…ç½®

# Pythonç¼“å­˜æ–‡ä»¶
__pycache__/
*.py[cod]
*$py.class
*.so

# ç¯å¢ƒå˜é‡æ–‡ä»¶
.env
.env.local
.env.production

# æ•°æ®åº“æ–‡ä»¶
*.db
*.sqlite3

# æ—¥å¿—æ–‡ä»¶
logs/
*.log

# IDEé…ç½®
.vscode/
.idea/
*.swp
*.swo
```

### 3. ç¯å¢ƒå¥åº·æ£€æŸ¥

```python
# scripts/check_environment.py
"""ç¯å¢ƒå¥åº·æ£€æŸ¥è„šæœ¬"""

import sys
import subprocess
import pkg_resources
from packaging import version

def check_python_version():
    """æ£€æŸ¥Pythonç‰ˆæœ¬"""
    required_version = '3.8'
    current_version = f"{sys.version_info.major}.{sys.version_info.minor}"
    
    if version.parse(current_version) < version.parse(required_version):
        print(f"âŒ Pythonç‰ˆæœ¬è¿‡ä½: {current_version} < {required_version}")
        return False
    else:
        print(f"âœ… Pythonç‰ˆæœ¬: {current_version}")
        return True

def check_virtual_environment():
    """æ£€æŸ¥æ˜¯å¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­"""
    if hasattr(sys, 'real_prefix') or (hasattr(sys, 'base_prefix') and sys.base_prefix != sys.prefix):
        print(f"âœ… è™šæ‹Ÿç¯å¢ƒ: {sys.prefix}")
        return True
    else:
        print("âŒ æœªæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ")
        return False

def check_required_packages():
    """æ£€æŸ¥å¿…éœ€åŒ…æ˜¯å¦å®‰è£…"""
    required_packages = [
        ('fastapi', '0.68.0'),
        ('sqlalchemy', '2.0.0'),
        ('alembic', '1.8.0'),
        ('uvicorn', '0.18.0'),
        ('python-jose', '3.3.0')
    ]
    
    all_ok = True
    for package_name, min_version in required_packages:
        try:
            installed_version = pkg_resources.get_distribution(package_name).version
            if version.parse(installed_version) >= version.parse(min_version):
                print(f"âœ… {package_name}: {installed_version}")
            else:
                print(f"âŒ {package_name}: {installed_version} < {min_version}")
                all_ok = False
        except pkg_resources.DistributionNotFound:
            print(f"âŒ {package_name}: æœªå®‰è£…")
            all_ok = False
    
    return all_ok

def main():
    """ä¸»æ£€æŸ¥å‡½æ•°"""
    print("ğŸ” ç¯å¢ƒå¥åº·æ£€æŸ¥")
    print("=" * 50)
    
    checks = [
        check_python_version(),
        check_virtual_environment(),
        check_required_packages()
    ]
    
    if all(checks):
        print("\nğŸ‰ ç¯å¢ƒæ£€æŸ¥é€šè¿‡ï¼")
        return 0
    else:
        print("\nâŒ ç¯å¢ƒæ£€æŸ¥å¤±è´¥ï¼Œè¯·ä¿®å¤ä¸Šè¿°é—®é¢˜")
        return 1

if __name__ == '__main__':
    sys.exit(main())
```

```bash
# è¿è¡Œç¯å¢ƒæ£€æŸ¥
python scripts/check_environment.py

# è¾“å‡ºç¤ºä¾‹ï¼š
# ğŸ” ç¯å¢ƒå¥åº·æ£€æŸ¥
# ==================================================
# âœ… Pythonç‰ˆæœ¬: 3.11
# âœ… è™šæ‹Ÿç¯å¢ƒ: C:\path\to\venv
# âœ… fastapi: 0.104.1
# âœ… sqlalchemy: 2.0.21
# âœ… alembic: 1.12.1
# âœ… uvicorn: 0.24.0
# âœ… python-jose: 3.3.0
# 
# ğŸ‰ ç¯å¢ƒæ£€æŸ¥é€šè¿‡ï¼
```

## æ€»ç»“

è™šæ‹Ÿç¯å¢ƒæ˜¯Pythonåç«¯å¼€å‘çš„åŸºç¡€è®¾æ–½ï¼Œå®ƒè§£å†³äº†ä»¥ä¸‹å…³é”®é—®é¢˜ï¼š

1. **ä¾èµ–éš”ç¦»**ï¼šæ¯ä¸ªé¡¹ç›®æ‹¥æœ‰ç‹¬ç«‹çš„ä¾èµ–ç¯å¢ƒ
2. **ç‰ˆæœ¬ç®¡ç†**ï¼šç²¾ç¡®æ§åˆ¶åŒ…çš„ç‰ˆæœ¬ï¼Œé¿å…å†²çª
3. **ç¯å¢ƒå¤ç°**ï¼šé€šè¿‡requirements.txtå‡†ç¡®å¤ç°ç¯å¢ƒ
4. **éƒ¨ç½²ä¸€è‡´æ€§**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒä¿æŒä¸€è‡´
5. **å®‰å…¨æ€§**ï¼šé¿å…ç³»ç»Ÿçº§åŒ…æ±¡æŸ“å’Œæƒé™é—®é¢˜

åœ¨äººåŠ›èµ„æºè°ƒåº¦ç³»ç»Ÿçš„å¼€å‘ä¸­ï¼Œåˆç†ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒå¯ä»¥ï¼š
- ç¡®ä¿å¼€å‘å›¢é˜Ÿç¯å¢ƒä¸€è‡´
- ç®€åŒ–éƒ¨ç½²å’Œè¿ç»´æµç¨‹
- æé«˜ä»£ç è´¨é‡å’Œç¨³å®šæ€§
- æ”¯æŒå¤šç¯å¢ƒå¼€å‘å’Œæµ‹è¯•
- é™ä½ä¾èµ–ç®¡ç†çš„å¤æ‚åº¦

é€šè¿‡æ·±å…¥ç†è§£è™šæ‹Ÿç¯å¢ƒçš„å·¥ä½œåŸç†å’Œæœ€ä½³å®è·µï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºæ›´åŠ ä¸“ä¸šå’Œå¯é çš„Pythonåç«¯åº”ç”¨å¼€å‘ç¯å¢ƒã€‚